{"ast":null,"code":"export default {\n  name: 'modifyField',\n\n  data() {\n    return {\n      dialogVisible: false,\n      imageUrl: ''\n    };\n  },\n\n  methods: {\n    handleClose(done) {\n      this.$confirm('确认关闭？') // eslint-disable-next-line no-unused-vars\n      .then(_ => {\n        done();\n      }) // eslint-disable-next-line no-unused-vars\n      .catch(_ => {});\n    },\n\n    handleAvatarSuccess(res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n    },\n\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n\n      return isJPG && isLt2M;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqBA;EACAA,mBADA;;EAEAC;IACA;MACAC,oBADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IACAC;MACA,uBACA;MADA,CAEAC,IAFA,CAEAC;QACAC;MACA,CAJA,EAKA;MALA,CAMAC,KANA,CAMAF,OANA;IAOA,CATA;;IAUAG;MACA;IACA,CAZA;;IAaAC;MACA;MACA;;MAEA;QACA;MACA;;MACA;QACA;MACA;;MACA;IACA;;EAxBA;AARA","names":["name","data","dialogVisible","imageUrl","methods","handleClose","then","_","done","catch","handleAvatarSuccess","beforeAvatarUpload"],"sourceRoot":"src/components","sources":["modifyField.vue"],"sourcesContent":["<template>\n  <div>\n    <el-button type=\"text\" @click=\"dialogVisible = true\">点击打开 Dialog</el-button>\n\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"handleClose\">\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\"></el-form>\n        <el-upload class=\"avatar-uploader\" action=\"https://jsonplaceholder.typicode.com/posts/\" :show-file-list=\"false\"\n          :on-success=\"handleAvatarSuccess\" :before-upload=\"beforeAvatarUpload\">\n          <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n      \n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'modifyField',\n  data() {\n    return {\n      dialogVisible: false,\n      imageUrl: ''\n    };\n  },\n  methods: {\n    handleClose(done) {\n      this.$confirm('确认关闭？')\n        // eslint-disable-next-line no-unused-vars\n        .then(_ => {\n          done();\n        })\n        // eslint-disable-next-line no-unused-vars\n        .catch(_ => { });\n    },\n    handleAvatarSuccess(res, file) {\n        this.imageUrl = URL.createObjectURL(file.raw);\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG 格式!');\n        }\n        if (!isLt2M) {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n        return isJPG && isLt2M;\n      }\n  }\n\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}