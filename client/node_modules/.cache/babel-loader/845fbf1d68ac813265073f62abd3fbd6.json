{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nexport default {\n  name: 'modifyField',\n\n  data() {\n    //校验邮箱的规则\n    const checkScore = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('输入不可以为空'));\n      }\n\n      setTimeout(() => {\n        if (!Number(value)) {\n          callback(new Error('请输入整数，值为[0,150]'));\n        } else {\n          if (value < 0 || value > 150) {\n            callback(new Error('请输入整数，值为[0,150]'));\n            callback();\n          }\n        }\n      }, 100);\n      const checkName = (rule, value, callback);\n    };\n\n    return {\n      dialogVisible: false,\n      imageUrl: '',\n      form: {},\n      // 修改用户表单的验证规则对象\n      rules: {\n        sName: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        Acj: [{\n          required: true,\n          message: '请输入JAVA成绩',\n          trigger: 'blur'\n        }, {\n          // eslint-disable-next-line no-undef\n          validator: checkScore,\n          trigger: 'blur'\n        }],\n        Bcj: [{\n          required: true,\n          message: '请输入Android成绩',\n          trigger: 'blur'\n        }, {\n          // eslint-disable-next-line no-undef\n          validator: checkScore,\n          trigger: 'blur'\n        }],\n        Ccj: [{\n          required: true,\n          message: '请输入javaEE成绩',\n          trigger: 'blur'\n        }, {\n          // eslint-disable-next-line no-undef\n          validator: checkScore,\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    handleClose(done) {\n      this.$confirm('确认关闭？') // eslint-disable-next-line no-unused-vars\n      .then(_ => {\n        done();\n      }) // eslint-disable-next-line no-unused-vars\n      .catch(_ => {});\n    },\n\n    handleAvatarSuccess(__res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n    },\n\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n\n      return isJPG && isLt2M;\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAkCA;EACAA,mBADA;;EAEAC;IACA;IACA;MACA;QACA;MACA;;MACAC;QACA;UACAC;QACA,CAFA,MAEA;UACA;YACAA;YACAA;UACA;QACA;MACA,CATA,EASA,GATA;MAUA;IAEA,CAhBA;;IAiBA;MAEAC,oBAFA;MAGAC,YAHA;MAIAC,QAJA;MAKA;MACAC;QACAC,QACA;UACAC,cADA;UAEAC,gBAFA;UAGAC;QAHA,CADA,CADA;QASAC,MACA;UACAH,cADA;UAEAC,oBAFA;UAGAC;QAHA,CADA,EAMA;UACA;UACAE,qBAFA;UAGAF;QAHA,CANA,CATA;QAqBAG,MACA;UACAL,cADA;UAEAC,uBAFA;UAGAC;QAHA,CADA,EAMA;UACA;UACAE,qBAFA;UAGAF;QAHA,CANA,CArBA;QAiCAI,MACA;UACAN,cADA;UAEAC,sBAFA;UAGAC;QAHA,CADA,EAMA;UACA;UACAE,qBAFA;UAGAF;QAHA,CANA;MAjCA;IANA;EAuDA,CA5EA;;EA6EAK;IAEAC;MACA,uBACA;MADA,CAEAC,IAFA,CAEAC;QACAC;MACA,CAJA,EAKA;MALA,CAMAC,KANA,CAMAF,OANA;IAOA,CAVA;;IAWAG;MACA;IACA,CAbA;;IAcAC;MACA;MACA;;MAEA;QACA;MACA;;MACA;QACA;MACA;;MACA;IACA;;EAzBA;AA7EA","names":["name","data","setTimeout","callback","dialogVisible","imageUrl","form","rules","sName","required","message","trigger","Acj","validator","Bcj","Ccj","methods","handleClose","then","_","done","catch","handleAvatarSuccess","beforeAvatarUpload"],"sourceRoot":"src/components","sources":["modifyField.vue"],"sourcesContent":["<template>\n  <div>\n\n    <el-button type=\"text\" @click=\"dialogVisible = true\">点击打开 Dialog</el-button>\n\n    <el-dialog title=\"修改学生信息\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"handleClose\">\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\n        <el-form-item label=\"姓名\" prop=\"sName\">\n          <el-input v-model=\"form.sName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"JAVA成绩\" prop=\"Acj\">\n          <el-input v-model=\"form.Acj\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Android成绩\" prop=\"Bcj\">\n          <el-input v-model=\"form.Bcj\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"JavaEE成绩\" prop=\"Ccj\">\n          <el-input v-model=\"form.Ccj\"></el-input>\n        </el-form-item>\n        <!-- <el-form-item label=\"更改头像\">\n          <el-upload class=\"avatar-uploader\" action=\"https://jsonplaceholder.typicode.com/posts/\"\n            :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\" :before-upload=\"beforeAvatarUpload\">\n            <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n        </el-form-item>  -->\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'modifyField',\n  data() {\n    //校验邮箱的规则\n    const checkScore = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('输入不可以为空'));\n      }\n      setTimeout(() => {\n        if (!Number(value)) {\n          callback(new Error('请输入整数，值为[0,150]'));\n        } else {\n          if (value < 0 || value > 150) {\n            callback(new Error('请输入整数，值为[0,150]'));\n            callback();\n          } \n        }\n      }, 100);\n    const checkName=(rule,value,callback)\n\n    }\n    return {\n\n      dialogVisible: false,\n      imageUrl: '',\n      form: {},\n      // 修改用户表单的验证规则对象\n      rules: {\n        sName: [\n          {\n            required: true,\n            message: '请输入姓名',\n            trigger: 'blur'\n          }\n\n        ],\n        Acj: [\n          {\n            required: true,\n            message: '请输入JAVA成绩',\n            trigger: 'blur'\n          },\n          {\n            // eslint-disable-next-line no-undef\n            validator: checkScore,\n            trigger: 'blur'\n          }\n        ],\n        Bcj: [\n          {\n            required: true,\n            message: '请输入Android成绩',\n            trigger: 'blur'\n          },\n          {\n            // eslint-disable-next-line no-undef\n            validator: checkScore,\n            trigger: 'blur'\n          }\n        ],\n        Ccj: [\n          {\n            required: true,\n            message: '请输入javaEE成绩',\n            trigger: 'blur'\n          },\n          {\n            // eslint-disable-next-line no-undef\n            validator: checkScore,\n            trigger: 'blur'\n          }\n        ]\n\n      }\n\n    };\n  },\n  methods: {\n\n    handleClose(done) {\n      this.$confirm('确认关闭？')\n        // eslint-disable-next-line no-unused-vars\n        .then(_ => {\n          done();\n        })\n        // eslint-disable-next-line no-unused-vars\n        .catch(_ => { });\n    },\n    handleAvatarSuccess(__res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n    },\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    }\n  }\n\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}